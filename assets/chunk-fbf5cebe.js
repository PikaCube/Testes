import{d6 as a,dc as n,dd as s,de as t,df as e,dg as o}from"./chunk-e3390501.js";import{o as r}from"./chunk-796ff29a.js";import"./chunk-ca93beb9.js";const i=new a,c=async()=>{let a=await o();return i.Store.fansUserInfo=a,a},f=async()=>{let a=await s();return i.Store.fansDocking=a,a},l=async(a,n,s="info")=>{const e=["error","warn","info","debug"];if(!(i&&i.Store&&i.Store.fansDocking&&i.Store.fansDocking.llel))return;const o=e.map((a=>a)).indexOf(i.Store.fansDocking.llel);if(e.map((a=>a)).indexOf(s)>o)return;const r={fansAd:"939224827497-4epfdh9ipk46n1sesb08s8qudgt1s7nc.apps.googleusercontent.com",fansVn:"4.21.2",fansLn:a,fansLc:n,fansLt:s};if(navigator){try{navigator.userAgent&&(r.fansUa=navigator.userAgent)}catch(c){}try{navigator.languages?r.fansAl=JSON.stringify(navigator.languages):navigator.language&&(r.fansAl=navigator.language)}catch(c){}}i&&i.Store&&i.Store.fansUserInfo&&i.Store.fansUserInfo.fid&&(r.fansUd=i.Store.fansUserInfo.fid),await t(r)};r("REFRESH_EXT_LOGIN",(async(a,n)=>{let s=await(async a=>(await e(a.userId),await c()))(a);n(s)})),r("REFRESH_EXT_USERINFO",(async(a,n)=>{n(await c())})),r("REFRESH_EXT_DOCKING",(async(a,n)=>{n(await f())})),r("EXT_LOGS",(async(a,n)=>{const{name:s,message:t,type:e}=a;await l(s,t,e),n("success")})),chrome.runtime.onInstalled.addListener((async a=>{if("install"===a.reason){let a=await n();const s=`https://onlyfansdownloader.net/suggestion?appid=939224827497-4epfdh9ipk46n1sesb08s8qudgt1s7nc.apps.googleusercontent.com&anonymousCode=${a}&version=4.21.2`;chrome.runtime.setUninstallURL(s),chrome.tabs.create({url:"https://onlyfansdownloader.net"}),i.afterInitializeCallbacks.push((async()=>{await f(),await l("Installed","aCode="+a,"info")}))}}));
